"use strict";(self.webpackChunknantralplatform_docs=self.webpackChunknantralplatform_docs||[]).push([[5643],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=o.createContext({}),c=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return o.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,h=d["".concat(p,".").concat(m)]||d[m]||u[m]||r;return n?o.createElement(h,i(i({ref:t},s),{},{components:n})):o.createElement(h,i({ref:t},s))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4445:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=n(7462),a=(n(7294),n(3905));const r={title:"React",sidebar_position:5},i="React",l={unversionedId:"dev/learning/react",id:"dev/learning/react",title:"React",description:"Tutorial",source:"@site/docs/dev/learning/react.md",sourceDirName:"dev/learning",slug:"/dev/learning/react",permalink:"/docs/dev/learning/react",draft:!1,editUrl:"https://github.com/3cn-ecn/nantralPlatform/tree/master/docs/docs/dev/learning/react.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"React",sidebar_position:5},sidebar:"devSidebar",previous:{title:"Django",permalink:"/docs/dev/learning/django"},next:{title:"Rest API",permalink:"/docs/dev/learning/rest-api"}},p={},c=[{value:"Tutorial",id:"tutorial",level:2},{value:"Why we need it",id:"why-we-need-it",level:2},{value:"How our frontend is made",id:"how-our-frontend-is-made",level:2},{value:"React",id:"react-1",level:3},{value:"TypeScript",id:"typescript",level:3},{value:"Node.js",id:"nodejs",level:3},{value:"NPM",id:"npm",level:3},{value:"Implementation in Nantral-Platform",id:"implementation-in-nantral-platform",level:2},{value:"Writing your first React component",id:"writing-your-first-react-component",level:2}],s={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"react"},"React"),(0,a.kt)("h2",{id:"tutorial"},"Tutorial"),(0,a.kt)("p",null,"Did you get the basis of django? Now, it's time to learn ",(0,a.kt)("strong",{parentName:"p"},"React"),"!\nYou can follow the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://reactjs.org/tutorial/tutorial.html"},"official tutorial of React here")),"\nto get the basis of the framework."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"For the ",(0,a.kt)("em",{parentName:"p"},"Setup")," section, choose the option 2: ",(0,a.kt)("em",{parentName:"p"},"Local development environment"),".")),(0,a.kt)("h2",{id:"why-we-need-it"},"Why we need it"),(0,a.kt)("p",null,"The framework we use for our backend can generate static html pages at runtime, on the server and serve it to the client. While this is desirable for performance reasons, this approach is not very modern, as a user expects to be able to interact with the website, like they would with a mobile application. Our server has to generate a new template everytime the user does something on the website, meaning the page has to be refreshed."),(0,a.kt)("p",null,"Imagine that you want to play a game of tic-tac-toe, but everytime you place an X or an O, the page has to be refreshed.\nWe can use a frontend framework like React.js to solve this problem for us."),(0,a.kt)("h2",{id:"how-our-frontend-is-made"},"How our frontend is made"),(0,a.kt)("h3",{id:"react-1"},"React"),(0,a.kt)("p",null,"To build the frontend of Nantral-Platform, we use ",(0,a.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React.js"),",\na declarative, component based, JavaScript library for building user interfaces.\nReact (optionaly, but mostly) uses a language called JSX, which allows to organise\nthe frontend code in the form of components, that represents logical, reusable parts of the UI.\nYou can pass arguments to components, which you can then display in its body (like\nthe number of participants to an event). If the value changes, React will react and re-render the component."),(0,a.kt)("iframe",{class:"youtube",src:"https://www.youtube-nocookie.com/embed/Tn6-PIqc4UM",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),(0,a.kt)("h3",{id:"typescript"},"TypeScript"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," is a superset of ",(0,a.kt)("strong",{parentName:"p"},"JavaScript"),", meaning that JavaScript code is valid TypeScript code, but not the other way around."),(0,a.kt)("p",null,"JavaScript is an interpreted, dynamic language, meaning that there is no compilation, and that broken code won't be detected until runtime. When dealing with APIs, it becomes very easy to reference a non-existent property on an object. For reference, if you open up your browser console with F12 and type:\n",(0,a.kt)("inlineCode",{parentName:"p"},'"1"==1')," you will see that this boolean expression is evaluated as true, even though we are comparing two objects which have different types."),(0,a.kt)("p",null,"TypeScript solves this problem by introducing strong types to JavaScript, meaning that a number variable can only be a number, unless it is specifically casted as an other type. You can therefore catch errors in development, directly in your IDE with linting or when transpiling the TypeScript code to native JavaScript."),(0,a.kt)("p",null,"When using TypeScript, React code becomes TSX code instead of JSX."),(0,a.kt)("p",null,"It is configured through the ",(0,a.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"frontend/")," folder."),(0,a.kt)("p",null,"As this part of the codebase has already been configured, we won't go into further details on how TypeScript works, as we do not need to worry about it anymore."),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Discover Javascript in 100s \ud83c\udfac"),(0,a.kt)("iframe",{class:"youtube",src:"https://www.youtube-nocookie.com/embed/DHjqpvDnNGE",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Discover Typescript in 100s \ud83c\udfac"),(0,a.kt)("iframe",{class:"youtube",src:"https://www.youtube-nocookie.com/embed/zQnBQ4tB3ZA",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),(0,a.kt)("h3",{id:"nodejs"},"Node.js"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://nodejs.org"},"Node.js")," is a JavaScript runtime built on Chrome's V8 JavaScript engine. To put it in a nutshell, it allows to run JavaScript on the serverside, and you need to install it to develop React applications."),(0,a.kt)("h3",{id:"npm"},"NPM"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"NPM")," or Node Package Manager is an online repository for sharing Node.js libraries. It's also a CLI to deal with the installation, update, etc, of said libraries."),(0,a.kt)("p",null,"It can be configured using the ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"frontend/")," folder."),(0,a.kt)("p",null,"All the modules we talked about above can be installed using NPM."),(0,a.kt)("h2",{id:"implementation-in-nantral-platform"},"Implementation in Nantral-Platform"),(0,a.kt)("p",null,"Whereas a lot of project use a fully featured React app with routing, we only have small components which hook to our static HTML pages, usually on the ",(0,a.kt)("inlineCode",{parentName:"p"},'<div id="root"></div>')," element of the page."),(0,a.kt)("p",null,"The code of each component is located in ",(0,a.kt)("inlineCode",{parentName:"p"},"frontend/src/"),"."),(0,a.kt)("p",null,"While React does not impose a file structure like Django, we try to split the React code in multiple .tsx files, by keeping one component per file. This allows for better clarity in the codebase, as well as reusability of the components."),(0,a.kt)("p",null,"For a good example of how a React component should be structured, checkout ",(0,a.kt)("inlineCode",{parentName:"p"},"clubsList.tsx"),"."),(0,a.kt)("h2",{id:"writing-your-first-react-component"},"Writing your first React component"),(0,a.kt)("p",null,"To create a component called ",(0,a.kt)("inlineCode",{parentName:"p"},"foo"),", create the ",(0,a.kt)("inlineCode",{parentName:"p"},"foo.tsx")," file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"src/")," folder. Add the following to the file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import * as React from "react";\nimport ReactDOM, { render } from "react-dom";\n\nfunction Root(props): JSX.Element {\n  return <h1>Hello World!</h1>;\n}\n\nrender(<Root />, document.getElementById("root"));\n')),(0,a.kt)("p",null,"To register the file with Webpack, open ",(0,a.kt)("inlineCode",{parentName:"p"},"src/webpack.config/webpack.common.js")," and add ",(0,a.kt)("inlineCode",{parentName:"p"},'foo: path.join(__dirname,"../src/containers/foo.tsx"),')," to the ",(0,a.kt)("inlineCode",{parentName:"p"},"entry")," object."),(0,a.kt)("p",null,"Then run ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run watch")," to start compiling the React code on every file save."),(0,a.kt)("p",null,"This will output the compiled JavaScript to the ",(0,a.kt)("inlineCode",{parentName:"p"},"static/")," folder of the project and allow Django to serve the files on page load."),(0,a.kt)("p",null,"In the HTML page you want your React code to load, add a ",(0,a.kt)("inlineCode",{parentName:"p"},'<div id="root"></div>')," element to where you want your component to load, and the following snippet at the bottom of the page."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"{% block script %}\n<script src='{% static \"js/foo.js\" %}'><\/script>\n{% endblock %}\n")),(0,a.kt)("p",null,"If you now try to load this page through Django, you should see a Hello World! where your div was added."))}u.isMDXComponent=!0}}]);