"use strict";(self.webpackChunknantralplatform_docs=self.webpackChunknantralplatform_docs||[]).push([[9534],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=a,h=d["".concat(p,".").concat(m)]||d[m]||u[m]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3349:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:4,description:"A JavaScript library for building user interfaces."},i="React",l={unversionedId:"dev/guides/react",id:"dev/guides/react",title:"React",description:"A JavaScript library for building user interfaces.",source:"@site/docs/dev/guides/react.md",sourceDirName:"dev/guides",slug:"/dev/guides/react",permalink:"/dev/guides/react",draft:!1,editUrl:"https://github.com/3cn-ecn/nantralPlatform/tree/master/docs/docs/dev/guides/react.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"A JavaScript library for building user interfaces."},sidebar:"sidebar",previous:{title:"Django",permalink:"/dev/guides/django"},next:{title:"Rest API",permalink:"/dev/guides/rest-api"}},p={},s=[{value:"How our frontend is made",id:"how-our-frontend-is-made",level:2},{value:"React",id:"react-1",level:3},{value:"TypeScript",id:"typescript",level:3},{value:"Node.js",id:"nodejs",level:3},{value:"NPM",id:"npm",level:3},{value:"Implementation in Nantral-Platform",id:"implementation-in-nantral-platform",level:2},{value:"Writing your first React component",id:"writing-your-first-react-component",level:2}],c={toc:s},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"react"},"React"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://openclassrooms.com/fr/courses/7008001-debutez-avec-react"},"OpenClassrooms Tutorial"))," (recommended, in French)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started"},"MDN Tutorial"))," (available in multiple languages)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://reactjs.org/"},"Official Documentation")))),(0,a.kt)("iframe",{className:"youtube margin-bottom--md",src:"https://www.youtube-nocookie.com/embed/Tn6-PIqc4UM",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),(0,a.kt)("p",null,"Other videos to see: ",(0,a.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=DHjqpvDnNGE"},"JavaScript in 100s"),"\nand ",(0,a.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=zQnBQ4tB3ZA"},"TypeScript in 100s"),"."),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Old version of the Front End"),(0,a.kt)("h2",{id:"how-our-frontend-is-made"},"How our frontend is made"),(0,a.kt)("h3",{id:"react-1"},"React"),(0,a.kt)("p",null,"To build the frontend of Nantral-Platform, we use ",(0,a.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React.js"),",\na declarative, component based, JavaScript library for building user interfaces.\nReact (optionaly, but mostly) uses a language called JSX, which allows to organise\nthe frontend code in the form of components, that represents logical, reusable parts of the UI.\nYou can pass arguments to components, which you can then display in its body (like\nthe number of participants to an event). If the value changes, React will react and re-render the component."),(0,a.kt)("h3",{id:"typescript"},"TypeScript"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," is a superset of ",(0,a.kt)("strong",{parentName:"p"},"JavaScript"),", meaning that JavaScript code is valid TypeScript code, but not the other way around."),(0,a.kt)("p",null,"JavaScript is an interpreted, dynamic language, meaning that there is no compilation, and that broken code won't be detected until runtime. When dealing with APIs, it becomes very easy to reference a non-existent property on an object. For reference, if you open up your browser console with F12 and type:\n",(0,a.kt)("inlineCode",{parentName:"p"},'"1"==1')," you will see that this boolean expression is evaluated as true, even though we are comparing two objects which have different types."),(0,a.kt)("p",null,"TypeScript solves this problem by introducing strong types to JavaScript, meaning that a number variable can only be a number, unless it is specifically casted as an other type. You can therefore catch errors in development, directly in your IDE with linting or when transpiling the TypeScript code to native JavaScript."),(0,a.kt)("p",null,"When using TypeScript, React code becomes TSX code instead of JSX."),(0,a.kt)("p",null,"It is configured through the ",(0,a.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"frontend/")," folder."),(0,a.kt)("p",null,"As this part of the codebase has already been configured, we won't go into further details on how TypeScript works, as we do not need to worry about it anymore."),(0,a.kt)("h3",{id:"nodejs"},"Node.js"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://nodejs.org"},"Node.js")," is a JavaScript runtime built on Chrome's V8 JavaScript engine. To put it in a nutshell, it allows to run JavaScript on the serverside, and you need to install it to develop React applications."),(0,a.kt)("h3",{id:"npm"},"NPM"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"NPM")," or Node Package Manager is an online repository for sharing Node.js libraries. It's also a CLI to deal with the installation, update, etc, of said libraries."),(0,a.kt)("p",null,"It can be configured using the ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"frontend/")," folder."),(0,a.kt)("p",null,"All the modules we talked about above can be installed using NPM."),(0,a.kt)("h2",{id:"implementation-in-nantral-platform"},"Implementation in Nantral-Platform"),(0,a.kt)("p",null,"Whereas a lot of project use a fully featured React app with routing, we only have small components which hook to our static HTML pages, usually on the ",(0,a.kt)("inlineCode",{parentName:"p"},'<div id="root"></div>')," element of the page."),(0,a.kt)("p",null,"The code of each component is located in ",(0,a.kt)("inlineCode",{parentName:"p"},"frontend/src/"),"."),(0,a.kt)("p",null,"While React does not impose a file structure like Django, we try to split the React code in multiple .tsx files, by keeping one component per file. This allows for better clarity in the codebase, as well as reusability of the components."),(0,a.kt)("p",null,"For a good example of how a React component should be structured, checkout ",(0,a.kt)("inlineCode",{parentName:"p"},"clubsList.tsx"),"."),(0,a.kt)("h2",{id:"writing-your-first-react-component"},"Writing your first React component"),(0,a.kt)("p",null,"To create a component called ",(0,a.kt)("inlineCode",{parentName:"p"},"foo"),", create the ",(0,a.kt)("inlineCode",{parentName:"p"},"foo.tsx")," file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"src/")," folder. Add the following to the file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import * as React from "react";\nimport ReactDOM, { render } from "react-dom";\n\nfunction Root(props): JSX.Element {\n  return <h1>Hello World!</h1>;\n}\n\nrender(<Root />, document.getElementById("root"));\n')),(0,a.kt)("p",null,"To register the file with Webpack, open ",(0,a.kt)("inlineCode",{parentName:"p"},"src/webpack.config/webpack.common.js")," and add ",(0,a.kt)("inlineCode",{parentName:"p"},'foo: path.join(__dirname,"../src/containers/foo.tsx"),')," to the ",(0,a.kt)("inlineCode",{parentName:"p"},"entry")," object."),(0,a.kt)("p",null,"Then run ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run watch")," to start compiling the React code on every file save."),(0,a.kt)("p",null,"This will output the compiled JavaScript to the ",(0,a.kt)("inlineCode",{parentName:"p"},"static/")," folder of the project and allow Django to serve the files on page load."),(0,a.kt)("p",null,"In the HTML page you want your React code to load, add a ",(0,a.kt)("inlineCode",{parentName:"p"},'<div id="root"></div>')," element to where you want your component to load, and the following snippet at the bottom of the page."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"{% block script %}\n<script src='{% static \"js/foo.js\" %}'><\/script>\n{% endblock %}\n")),(0,a.kt)("p",null,"If you now try to load this page through Django, you should see a Hello World! where your div was added.")))}u.isMDXComponent=!0}}]);