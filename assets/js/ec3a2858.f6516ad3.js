"use strict";(self.webpackChunknantralplatform_docs=self.webpackChunknantralplatform_docs||[]).push([[9093],{8848:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var a=t(5893),s=t(1151);const r={title:"Translations (i18n)",sidebar_position:4,description:"Translations and Internationalisation"},o="Translations (i18n) in React",i={id:"dev/frontend/i18n",title:"Translations (i18n)",description:"Translations and Internationalisation",source:"@site/docs/dev/frontend/i18n.md",sourceDirName:"dev/frontend",slug:"/dev/frontend/i18n",permalink:"/dev/frontend/i18n",draft:!1,unlisted:!1,editUrl:"https://github.com/3cn-ecn/nantralPlatform/tree/master/docs/docs/dev/frontend/i18n.md",tags:[],version:"current",lastUpdatedBy:"Alexis Delage",lastUpdatedAt:1708213114,formattedLastUpdatedAt:"Feb 17, 2024",sidebarPosition:4,frontMatter:{title:"Translations (i18n)",sidebar_position:4,description:"Translations and Internationalisation"},sidebar:"sidebar",previous:{title:"Styling",permalink:"/dev/frontend/styling"},next:{title:"Testing",permalink:"/dev/frontend/testing/"}},l={},d=[{value:"Translating texts",id:"translating-texts",level:2},{value:"Formatting dates",id:"formatting-dates",level:2},{value:"Formatting numbers",id:"formatting-numbers",level:2},{value:"Adding a new locale",id:"adding-a-new-locale",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"translations-i18n-in-react",children:"Translations (i18n) in React"}),"\n",(0,a.jsx)(n.p,{children:"Internationalisation (or i18n for short) is the concept of adapting a website\nfor another country, language or culture. It regroups the translations of text,\nbut also the format of dates and hours for example."}),"\n",(0,a.jsx)(n.h2,{id:"translating-texts",children:"Translating texts"}),"\n",(0,a.jsxs)(n.p,{children:["In the front end, we use the ",(0,a.jsx)(n.a,{href:"https://react.i18next.com/",children:"i18next"})," library to make translations.\nTo use it, just call the ",(0,a.jsx)(n.code,{children:"useTranslation"})," hook in your component and then use it to call a key:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// do not use { useTranslation } from 'react-i18next'!!!\nimport { useTranslation } from '#shared/i18n/useTranslation';\n\nfunction HomePage(): JSX.Element {\n  const { t } = useTranslation();\n  const myName = 'John';\n\n  return <p>{t('home.welcome', { firstName: myName })}</p>;\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Then, add your translations in the ",(0,a.jsx)(n.code,{children:"frontend/src/translations/<lang>.json"})," files:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'// fr-FR.json\n{\n  "home": {\n    "welcome": "Bienvenue {{firstName}}\xa0!"\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If you need to pass a React component inside your text (like a Link), you can\nalso use ",(0,a.jsxs)(n.a,{href:"https://react.i18next.com/latest/trans-component",children:["the ",(0,a.jsx)(n.code,{children:"<Trans>"})," component"]}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"formatting-dates",children:"Formatting dates"}),"\n",(0,a.jsxs)(n.p,{children:["To format a date, use the method ",(0,a.jsx)(n.code,{children:"formatDate(date: Date, options: Intl.DateTimeFormatOptions)"}),"\nof the ",(0,a.jsx)(n.code,{children:"useTranslation"})," hook:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { useTranslation } from '#shared/i18n/useTranslation';\n\nfunction MyComponent(): JSX.Element {\n  const { formatDate } = useTranslation();\n  const today = new Date(); // get the date of today\n\n  return <p>{formatDate(today, { dateStyle: 'long' })}</p>;\n}\n\n// returns \"17 f\xe9vrier 2023\"\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The available options for formatting are listed here:\n",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#options",children:"DateTimeFormatOptions"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"formatting-numbers",children:"Formatting numbers"}),"\n",(0,a.jsxs)(n.p,{children:["There are also a method ",(0,a.jsx)(n.code,{children:"formatNumber"})," in the hook that you can use, to format\nnumber with units, currency, or as ordinals (first, second, etc...). See the\nMDN reference for the options here: ",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options",children:"NumberFormatOptions"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"adding-a-new-locale",children:"Adding a new locale"}),"\n",(0,a.jsxs)(n.admonition,{title:"Find the locale code",type:"info",children:[(0,a.jsx)(n.p,{children:"The code of a locale is defined in 2 parts:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["the language (e.g ",(0,a.jsx)(n.code,{children:"fr"}),", ",(0,a.jsx)(n.code,{children:"en"}),"...): it defines which translations to use;"]}),"\n",(0,a.jsxs)(n.li,{children:["the region code (e.g. ",(0,a.jsx)(n.code,{children:"FR"}),", ",(0,a.jsx)(n.code,{children:"US"}),", ",(0,a.jsx)(n.code,{children:"GB"}),"): it defines the date and number\nformatting which will be used."]}),"\n"]})]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Create a new file in ",(0,a.jsx)(n.code,{children:"frontend/src/translations/<lang>.json"})," with the\ninternational code of the language (e.g. ",(0,a.jsx)(n.code,{children:"fr-FR.json"})," for French).\nMake a copy of one of the existing file and translate all texts."]}),"\n",(0,a.jsxs)(n.li,{children:["In ",(0,a.jsx)(n.code,{children:"src/shared/i18n/config.ts"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Add the language code in the ",(0,a.jsx)(n.code,{children:"languages"})," array:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"export const languages = ['fr-FR', 'en-GB', 'en-US'] as const;\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Import the JSON file:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import translationFr from './fr-FR.json';\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Add it to the ",(0,a.jsx)(n.code,{children:"resources"})," key:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'resources: {\n "fr-FR": { translation: translationFr },\n},\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["In ",(0,a.jsx)(n.code,{children:"src/shared/i18n/useTranslation.ts"}),", import the locale from ",(0,a.jsx)(n.code,{children:"date-fns"})," and\nmap it to the language previously defined in the ",(0,a.jsx)(n.code,{children:"languages"})," array."]}),"\n",(0,a.jsxs)(n.li,{children:["In ",(0,a.jsx)(n.code,{children:"src/theme.ts"}),", import the locale from ",(0,a.jsx)(n.code,{children:"@mui/x-date-pickers"})," and map it\nagain to the same language."]}),"\n",(0,a.jsxs)(n.li,{children:["In ",(0,a.jsx)(n.code,{children:"src/shared/ckeditor/getCKEditorLanguage.ts"}),", map again the language to\na CKEditor language."]}),"\n",(0,a.jsxs)(n.li,{children:["Finally, in ",(0,a.jsx)(n.code,{children:"vite.config.ts"}),", declare the ckeditor language to import in the\n",(0,a.jsx)(n.code,{children:"ckeditor5()"})," function from the CKEditor5 plugin."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>o});var a=t(7294);const s={},r=a.createContext(s);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);